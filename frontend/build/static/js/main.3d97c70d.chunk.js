(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(27),c=a.n(n),s=a(7),i=a(33),o=a(72),l=a(73),j=a(24),u="RECIPE_LIST_REQUEST",d="RECIPE_LIST_SUCCESS",p="RECIPE_LIST_FAIL",b="RECIPE_DETAILS_REQUEST",h="RECIPE_DETAILS_SUCCESS",O="RECIPE_DETAILS_FAIL",f="RECIPE_DELETE_REQUEST",x="RECIPE_DELETE_SUCCESS",m="RECIPE_DELETE_FAIL",g="RECIPE_CREATE_REQUEST",v="RECIPE_CREATE_SUCCESS",y="RECIPE_CREATE_FAIL",E="RECIPE_CREATE_RESET",I="RECIPE_UPDATE_REQUEST",C="RECIPE_UPDATE_SUCCESS",S="RECIPE_UPDATE_FAIL",_="RECIPE_UPDATE_RESET",k="RECIPE_CREATE_REVIEW_REQUEST",L="RECIPE_CREATE_REVIEW_SUCCESS",R="RECIPE_CREATE_REVIEW_FAIL",w="RECIPE_CREATE_REVIEW_RESET",N="RECIPE_TOP_REQUEST",T="RECIPE_TOP_SUCCESS",A="RECIPE_TOP_FAIL",F=a(52),U="FAV_ADD_ITEM",P="FAV_REMOVE_ITEM",D="USER_LOGIN_REQUEST",G="USER_LOGIN_SUCCESS",B="USER_LOGIN_FAIL",z="USER_LOGOUT",Q="USER_REGISTER_REQUEST",J="USER_REGISTER_SUCCESS",q="USER_REGISTER_FAIL",V="USER_DETAILS_REQUEST",M="USER_DETAILS_SUCCESS",W="USER_DETAILS_FAIL",H="USER_UPDATE_PROFILE_REQUEST",Y="USER_UPDATE_PROFILE_SUCCESS",K="USER_UPDATE_FAILPROFILE_",X="USER_DETAILS_PROFILE_FAIL",Z="USER_LIST_REQUEST",$="USER_LIST_SUCCESS",ee="USER_LIST_FAIL",te="USER_LIST_RESET",ae="USER_DELETE_REQUEST",re="USER_DELETE_SUCCESS",ne="USER_DELETE_FAIL",ce="USER_UPDATE_REQUEST",se="USER_UPDATE_SUCCESS",ie="USER_UPDATE_FAIL",oe="USER_UPDATE_RESET",le=Object(i.combineReducers)({recipeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{recipes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return{loading:!0,recipes:[]};case d:return{loading:!1,recipes:t.payload.recipes,pages:t.payload.pages,page:t.payload.page};case p:return{loading:!1,error:t.payload};default:return e}},recipeDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{recipe:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case h:return{loading:!1,recipe:t.payload};case O:return{loading:!1,error:t.payload};default:return e}},recipeCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case v:return{loading:!1,success:!0,recipe:t.payload};case y:return{loading:!1,error:t.payload};case E:return{};default:return e}},recipeDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{loading:!0};case x:return{loading:!1,success:!0};case m:return{loading:!1,error:t.payload};default:return e}},recipeUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{recipe:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return{loading:!0};case C:return{loading:!1,success:!0,recipe:t.payload};case S:return{loading:!1,error:t.payload};case _:return{recipe:{}};default:return e}},recipeReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case L:return{loading:!1,success:!0};case R:return{loading:!1,error:t.payload};case w:return{};default:return e}},recipeTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{recipes:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0,recipes:[]};case T:return{loading:!1,recipes:t.payload};case A:return{loading:!1,error:t.payload};default:return e}},fav:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{favItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:var a=t.payload,r=e.favItems.find((function(e){return e.recipe===a.recipe}));return r?Object(j.a)(Object(j.a)({},e),{},{favItems:e.favItems.map((function(e){return e.recipe===r.recipe?a:e}))}):Object(j.a)(Object(j.a)({},e),{},{favItems:[].concat(Object(F.a)(e.favItems),[a])});case P:return Object(j.a)(Object(j.a)({},e),{},{favItems:e.favItems.filter((function(e){return e.recipe!==t.payload}))});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case G:return{loading:!1,userInfo:t.payload};case B:return{loading:!1,error:t.payload};case z:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return{loading:!0};case J:return{loading:!1,userInfo:t.payload};case q:return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(j.a)(Object(j.a)({},e),{},{loading:!0});case M:return{loading:!1,user:t.payload};case W:return{loading:!1,error:t.payload};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return{loading:!0};case Y:return{loading:!1,success:!0,userInfo:t.payload};case K:return{loading:!1,error:t.payload};case X:return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case $:return{loading:!1,users:t.payload};case ee:return{loading:!1,error:t.payload};case te:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return{loading:!0};case re:return{loading:!1,success:!0};case ne:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce:return{loading:!0};case se:return{loading:!1,success:!0};case ie:return{loading:!1,error:t.payload};case oe:return{user:{}};default:return e}}}),je={fav:{favItems:localStorage.getItem("favItems")?JSON.parse(localStorage.getItem("favItems")):[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},ue=[o.a],de=Object(i.createStore)(le,je,Object(l.composeWithDevTools)(i.applyMiddleware.apply(void 0,ue))),pe=(a(87),a(88),a(12)),be=a(15),he=a(20),Oe=a(128),fe=a(120),xe=a(130),me=a(125),ge=a(121),ve=a(8),ye=a.n(ve),Ee=a(10),Ie=a(11),Ce=a.n(Ie),Se=function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:V}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.get("/api/users/".concat(e),s);case 6:i=t.sent,o=i.data,a({type:M,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:W,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},_e=a(9),ke=a(126),Le=a(75),Re=a(1),we=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(_e.a)(a,2),c=n[0],s=n[1];return Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},inline:!0,children:[Object(Re.jsx)(ke.a.Control,{type:"text",name:"searchRecipe",onChange:function(e){return s(e.target.value)},placeholder:"Busque una receta...",className:"sm-5"}),Object(Re.jsxs)(Le.a,{style:{color:"#F55A00"},type:"submit",variant:"dark",className:" btn btn-dark my-3 p-2",children:[Object(Re.jsx)("i",{className:"fas fa-search"})," ","Buscar"]})]})},Ne=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(Re.jsx)("header",{children:Object(Re.jsx)(Oe.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:Object(Re.jsxs)(fe.a,{children:[Object(Re.jsx)(he.LinkContainer,{to:"/",children:Object(Re.jsx)(Oe.a.Brand,{children:Object(Re.jsx)("i",{className:"fas fa-home"})})}),Object(Re.jsx)(Oe.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(Re.jsxs)(Oe.a.Collapse,{id:"basic-navbar-nav",children:[Object(Re.jsx)(be.d,{render:function(e){var t=e.history;return Object(Re.jsx)(we,{history:t})}}),Object(Re.jsxs)(xe.a,{className:"ml-auto",children:[Object(Re.jsx)(he.LinkContainer,{to:"/fav",children:Object(Re.jsxs)(xe.a.Link,{children:[Object(Re.jsx)("i",{className:"far fa-star"})," Favoritos"]})}),Object(Re.jsx)(he.LinkContainer,{to:"/contact",children:Object(Re.jsxs)(xe.a.Link,{children:[Object(Re.jsx)("i",{className:"far fa-address-book"})," Contacto"]})}),t?Object(Re.jsxs)(me.a,{title:Object(Re.jsx)("div",{children:Object(Re.jsx)(ge.a,{src:t.avatar,fluid:!0,roundedCircle:!0,width:40,height:40})}),id:"username",children:[Object(Re.jsx)(he.LinkContainer,{to:"/profile",children:Object(Re.jsx)(me.a.Item,{children:"Perfil"})}),Object(Re.jsx)(me.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:z}),e({type:te})}))},children:"Cerrar sesi\xf3n"})]}):Object(Re.jsx)(he.LinkContainer,{to:"/login",children:Object(Re.jsxs)(xe.a.Link,{children:[Object(Re.jsx)("i",{className:"far fa-user"})," Iniciar Sesi\xf3n"]})}),t&&t.isAdmin&&Object(Re.jsxs)(me.a,{title:"Admin",id:"adminmenu",children:[Object(Re.jsx)(he.LinkContainer,{to:"/admin/userlist",children:Object(Re.jsx)(me.a.Item,{children:"Usuarios"})}),Object(Re.jsx)(he.LinkContainer,{to:"/admin/recipelist",children:Object(Re.jsx)(me.a.Item,{children:"Recetas"})})]})]})]})]})})})},Te=a(122),Ae=a(74),Fe=function(){return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)("footer",{children:Object(Re.jsx)(fe.a,{children:Object(Re.jsx)(Te.a,{children:Object(Re.jsx)(Ae.a,{className:"text-center py-3 footerText",children:Object(Re.jsxs)(xe.a.Link,{target:"_blank",href:"https://www.instagram.com/gustavomartincheff/",children:["Copyright \xa9 Dulceventura"," ",Object(Re.jsx)("i",{className:"fab fa-instagram"})]})})})})})})},Ue=a(131),Pe=a(6),De=a.n(Pe),Ge=function(e){var t=e.value,a=e.text,r=e.color;return Object(Re.jsxs)("div",{className:"rating",children:[Object(Re.jsx)("span",{children:Object(Re.jsx)("i",{style:{color:r},className:t>=1?"fas far fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Re.jsx)("span",{children:Object(Re.jsx)("i",{style:{color:r},className:t>=2?"fas far fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Re.jsx)("span",{children:Object(Re.jsx)("i",{style:{color:r},className:t>=3?"fas far fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Re.jsx)("span",{children:Object(Re.jsx)("i",{style:{color:r},className:t>=4?"fas far fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Re.jsx)("span",{children:Object(Re.jsx)("i",{style:{color:r},className:t>=5?"fas far fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(Re.jsx)("span",{children:a&&a})]})};Ge.defaultProps={color:"#F55A00"},Ge.protoTypes={value:De.a.number.isRequired,text:De.a.string.isRequired,color:De.a.string};var Be=Ge,ze=function(e){var t=e.recipe;return Object(Re.jsxs)(Ue.a,{className:"my-3 p-3 rounded overlay-div header-login__gradient--down",children:[Object(Re.jsx)(pe.Link,{to:"/recipe/".concat(t._id),children:Object(Re.jsx)(Ue.a.Img,{src:t.image,variant:"top"})}),Object(Re.jsxs)(Ue.a.Body,{children:[Object(Re.jsx)(pe.Link,{to:"/recipe/".concat(t._id),children:Object(Re.jsxs)(Ue.a.Title,{as:"div",children:[" ",Object(Re.jsxs)("strong",{children:["Receta: ",t.name]})]})}),Object(Re.jsx)(Ue.a.Text,{as:"div",children:Object(Re.jsx)(Be,{value:t.rating,text:" ".concat(t.numReviews," comentarios")})}),Object(Re.jsx)(Ue.a.Text,{as:"div",children:Object(Re.jsxs)("div",{children:[Object(Re.jsx)("i",{className:"fas fa-chart-pie"})," Porciones: ",t.servings,"."]})}),Object(Re.jsx)(Ue.a.Text,{as:"div",children:Object(Re.jsxs)("div",{children:[Object(Re.jsx)("i",{className:"far fa-clock"})," Duraci\xf3n: ",t.time," minutos aprox."]})})]})]})},Qe=a(129),Je=function(e){var t=e.variant,a=e.children;return Object(Re.jsx)(Qe.a,{variant:t,children:a})};Je.defaultProps={variant:"info"};var qe=Je,Ve=a(123),Me=function(){return Object(Re.jsx)(Ve.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"},children:Object(Re.jsx)("span",{className:"sr-only",children:"Loading..."})})},We=a(132),He=function(e){var t=e.pages,a=e.page,r=e.isAdmin,n=void 0!==r&&r,c=e.keyword,s=void 0===c?"":c;return t>1&&Object(Re.jsx)(We.a,{children:Object(F.a)(Array(t).keys()).map((function(e){return Object(Re.jsx)(he.LinkContainer,{to:n?"/admin/recipelist/".concat(e+1):s?"/search/".concat(s,"/page/").concat(e+1):"/page/".concat(e+1),children:Object(Re.jsx)(We.a.Item,{active:e+1===a,children:e+1})},e+1)}))})},Ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(Ee.a)(ye.a.mark((function a(r){var n,c;return ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:u}),a.next=4,Ce.a.get("/api/recipes?keyword=".concat(e,"&pageNumber=").concat(t));case 4:n=a.sent,c=n.data,r({type:d,payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),r({type:p,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},Ke=function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a){var r,n;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:b}),t.next=4,Ce.a.get("/api/recipes/".concat(e));case 4:r=t.sent,n=r.data,a({type:h,payload:n}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:O,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Xe=a(127),Ze=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.recipeTopRated})),a=t.loading,n=t.error,c=t.recipes;return Object(r.useEffect)((function(){e(function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:N}),e.next=4,Ce.a.get("/api/recipes/top");case 4:a=e.sent,r=a.data,t({type:T,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:A,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(Re.jsx)(Me,{}):n?Object(Re.jsx)(qe,{variant:"danger",children:n}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("h1",{children:"Top 3 de recetas m\xe1s populares"}),Object(Re.jsx)(Xe.a,{fade:!0,pause:"hover",className:"bg-dark header-login__gradient--up",children:c.map((function(e){return Object(Re.jsx)(Xe.a.Item,{interval:2e3,children:Object(Re.jsxs)(pe.Link,{to:"/recipe/".concat(e._id),children:[Object(Re.jsx)(ge.a,{src:e.image,alt:e.name,fluid:!0}),Object(Re.jsx)(Xe.a.Caption,{className:"carousel-caption",children:Object(Re.jsxs)("h2",{children:[e.name," ",Object(Re.jsx)(Be,{value:e.rating,text:"".concat(e.numReviews," comentarios")})]})})]})},e._id)}))})]})},$e=function(e){var t=e.history,a=e.match,n=a.params.keyword,c=a.params.pageNumber||1,i=Object(s.b)(),o=Object(s.c)((function(e){return e.recipeList})),l=o.loading,j=o.error,u=o.recipes,d=o.page,p=o.pages,b=Object(s.c)((function(e){return e.userLogin})).userInfo;return Object(r.useEffect)((function(){b?i(Ye(n,c)):t.push("/login")}),[t,b,i,n,c]),Object(Re.jsxs)(Re.Fragment,{children:[!n&&Object(Re.jsx)(Ze,{}),Object(Re.jsx)("br",{}),Object(Re.jsx)("h1",{children:"\xdaltimas recetas"}),l?Object(Re.jsx)(Me,{}):j?Object(Re.jsx)(qe,{variant:"danger",children:j}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Te.a,{children:u.map((function(e){return Object(Re.jsx)(Ae.a,{sm:12,md:6,lg:4,xl:3,children:Object(Re.jsx)(ze,{recipe:e})},e._id)}))}),Object(Re.jsx)(He,{pages:p,page:d,keyword:n||""})]})]})},et=a(133),tt=function(e){var t=e.history,a=e.match,n=Object(r.useState)(0),c=Object(_e.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)(""),j=Object(_e.a)(l,2),u=j[0],d=j[1],p=Object(s.b)(),b=Object(s.c)((function(e){return e.recipeDetails})),h=b.loading,O=b.error,f=b.recipe,x=Object(s.c)((function(e){return e.userLogin})).userInfo,m=Object(s.c)((function(e){return e.recipeReviewCreate})),g=m.success,v=m.loading,y=m.error;Object(r.useEffect)((function(){g&&(o(0),d("")),f._id&&f._id===a.params.id||(p(Ke(a.params.id)),p({type:w}))}),[p,a,g,f]);return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(pe.Link,{className:"btn btn-dark my-3",to:"/",style:{color:"#F55A00"},children:"Regresa"}),Object(Re.jsx)(Le.a,{onClick:function(){t.push("/fav/".concat(a.params.id))},className:"btn btn-dark float-right my-3",type:"button",style:{color:"#F55A00"},children:Object(Re.jsx)("i",{className:"fas fa-heart"})}),h?Object(Re.jsx)(Me,{}):O?Object(Re.jsx)(qe,{variant:"danger",children:O}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(Te.a,{children:Object(Re.jsx)(Ae.a,{children:Object(Re.jsxs)(et.a,{variant:"flush",style:{backgroundImage:'url("'.concat(f.backgroundImage,'")')},children:[Object(Re.jsxs)(et.a.Item,{className:"header-login__gradient--up",children:[Object(Re.jsx)("h3",{children:f.name}),Object(Re.jsx)(ge.a,{src:f.image,alt:f.name,fluid:!0,rounded:!0,className:"d-block mx-auto m-auto img-fluid favImage "})]}),Object(Re.jsxs)(et.a.Item,{style:{backgroundColor:"#2B2B2B"},children:[Object(Re.jsxs)("div",{children:[Object(Re.jsx)("i",{className:"fas fa-chart-pie"})," Porciones:",f.servings,"."]}),Object(Re.jsxs)("div",{children:[Object(Re.jsx)("i",{className:"far fa-clock"})," Duraci\xf3n: ",f.time," minutos aprox."]}),Object(Re.jsx)(Be,{value:f.rating,text:"".concat(f.numReviews," comentarios")})]}),Object(Re.jsxs)(et.a.Item,{style:{backgroundColor:"#2B2B2B"},children:[Object(Re.jsx)("h4",{children:"Ingredientes:"}),Object(Re.jsx)("p",{children:f.ingredients})]}),Object(Re.jsxs)(et.a.Item,{style:{backgroundColor:"#2B2B2B"},children:[Object(Re.jsx)("h4",{children:"Preparaci\xf3n:"}),Object(Re.jsx)("p",{children:f.instructions})]})]})})}),Object(Re.jsx)(Te.a,{children:Object(Re.jsxs)(Ae.a,{className:"header-login__gradient--down",children:[Object(Re.jsx)("h2",{children:"Comentarios:"}),0===f.reviews.length&&Object(Re.jsx)(qe,{children:"Sin comentarios."}),Object(Re.jsxs)(et.a,{variant:"flush",children:[f.reviews.map((function(e){return Object(Re.jsxs)(et.a.Item,{children:[Object(Re.jsx)("strong",{children:e.name}),Object(Re.jsx)(Be,{value:e.rating}),Object(Re.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(Re.jsx)("p",{children:e.comment})]},e._id)})),Object(Re.jsxs)(et.a.Item,{children:[Object(Re.jsx)("h2",{children:"Escribe tu comentario:"}),g&&Object(Re.jsx)(qe,{variant:"success",children:"\xa1Comentario agregado con \xe9xito!"}),v&&Object(Re.jsx)(Me,{}),y&&Object(Re.jsx)(qe,{variant:"danger",children:y}),x?Object(Re.jsxs)(ke.a,{onSubmit:function(e){var t,r;e.preventDefault(),p((t=a.params.id,r={rating:i,comment:u},function(){var e=Object(Ee.a)(ye.a.mark((function e(a,n){var c,s,i,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:k}),c=n(),s=c.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},e.next=6,Ce.a.post("/api/recipes/".concat(t,"/reviews"),r,i);case 6:a({type:L}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message,a({type:R,payload:o});case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))},children:[Object(Re.jsxs)(ke.a.Group,{controlId:"rating",children:[Object(Re.jsx)(ke.a.Label,{children:"Puntuaci\xf3n:"}),Object(Re.jsxs)(ke.a.Control,{as:"select",value:i,onChange:function(e){return o(e.target.value)},children:[Object(Re.jsx)("option",{value:"",children:"Seleccione..."}),Object(Re.jsx)("option",{value:"1",children:"1 - Malo "}),Object(Re.jsx)("option",{value:"2",children:"2 - Regular "}),Object(Re.jsx)("option",{value:"3",children:"3 - Bueno "}),Object(Re.jsx)("option",{value:"4",children:"4 - Muy bueno "}),Object(Re.jsx)("option",{value:"5",children:"5 - Excelente "})]})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"comment",children:[Object(Re.jsx)(ke.a.Label,{children:"Comentario"}),Object(Re.jsx)(ke.a.Control,{as:"textarea",row:"3",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(Re.jsx)(Le.a,{className:"btn btn-dark btn-block",type:"submit",variant:"primary",style:{color:"#F55A00"},children:"Comentar"})]}):Object(Re.jsxs)(qe,{children:["Por favor, ",Object(Re.jsx)(pe.Link,{to:"/login",children:"Incie sesi\xf3n"})," para poder dejar un comentario."]})]})]})]})})]})]})},at=function(e){var t=e.match,a=e.history,n=Object(s.c)((function(e){return e.userLogin})),c=n.userInfo,i=t.params.id,o=Object(s.b)(),l=Object(s.c)((function(e){return e.fav})).favItems;Object(r.useEffect)((function(){var e;c&&n?i&&o((e=i,function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ce.a.get("/api/recipes/".concat(e));case 2:n=t.sent,c=n.data,a({type:U,payload:{recipe:c._id,name:c.name,image:c.image}}),localStorage.setItem("favItems",JSON.stringify(r().fav.favItems));case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())):a.push("/login")}),[o,i,a,c,n]);var j=function(e){o(function(e){return function(t,a){t({type:P,payload:e}),localStorage.setItem("favItems",JSON.stringify(a().fav.favItems))}}(e))};return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(Te.a,{children:Object(Re.jsxs)(Ae.a,{className:"header-login__gradient--down",children:[Object(Re.jsx)("h1",{children:"Favoritos"}),Object(Re.jsx)("h2",{children:"\xa1Hola!"}),Object(Re.jsx)("h2",{children:"Aqu\xed tienes tu espacio de recetas"}),0===l.length?Object(Re.jsxs)(qe,{children:[" ",Object(Re.jsxs)("strong",{children:[" ","Tu lista de favoritos est\xe1 vac\xeda."," ",Object(Re.jsxs)(pe.Link,{to:"/",style:{color:"black"},children:[" ","Regresa"," "]})," "]})]}):Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsx)(Ue.a,{variant:"flush",className:"overlay-div",children:l.map((function(e){return Object(Re.jsxs)(Ue.a.Body,{children:[Object(Re.jsx)(Ue.a.Title,{children:Object(Re.jsx)(pe.Link,{to:"/recipe/".concat(e.recipe),children:Object(Re.jsx)("h1",{style:{color:"#F55A00"},children:e.name})})}),Object(Re.jsx)(Ue.a.Text,{as:"div",children:Object(Re.jsxs)(Te.a,{children:[Object(Re.jsx)(Ae.a,{xs:6,md:4,children:Object(Re.jsx)(ge.a,{xs:6,md:4,src:e.image,alt:e.name,fluid:!0,rounded:!0,className:"favImage"})}),Object(Re.jsx)(Ae.a,{xs:6,md:4,children:Object(Re.jsxs)(Le.a,{type:"button",variant:"dark",className:"btn btn-dark my-3",style:{color:"#F55A00"},onClick:function(){return j(e.recipe)},children:["Remover ",Object(Re.jsx)("i",{className:"fas fa-trash"})]})})]})})]},e.recipe)}))})})]})})})},rt=function(e){var t=e.children;return Object(Re.jsx)(fe.a,{children:Object(Re.jsx)(Te.a,{className:"justify-content-md-center",children:Object(Re.jsx)(Ae.a,{xs:12,md:6,children:t})})})},nt=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),c=Object(_e.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)(""),j=Object(_e.a)(l,2),u=j[0],d=j[1],p=Object(s.b)(),b=Object(s.c)((function(e){return e.userLogin})),h=b.loading,O=b.error,f=b.userInfo,x=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){f&&a.push(x)}),[a,f,x]);return Object(Re.jsx)(Re.Fragment,{children:Object(Re.jsxs)(rt,{children:[Object(Re.jsx)("h1",{children:"Dulceventura"}),Object(Re.jsx)("p",{children:"By @Gustavomartincheff"}),Object(Re.jsx)("h2",{children:"Iniciar Sesi\xf3n"}),O&&Object(Re.jsx)(qe,{variant:"danger",children:O}),h&&Object(Re.jsx)(Me,{}),Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var a=Object(Ee.a)(ye.a.mark((function a(r){var n,c,s;return ye.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:D}),n={headers:{"Content-Type":"application/json"}},a.next=5,Ce.a.post("/api/users/login",{email:e,password:t},n);case 5:c=a.sent,s=c.data,r({type:G,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:B,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(i,u))},className:"header-login__gradient--down",children:[Object(Re.jsxs)(ke.a.Group,{controlId:"email",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"far fa-envelope"})," Email"]}),Object(Re.jsx)(ke.a.Control,{type:"email",placeholder:"Escriba su email",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"password",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"fas fa-lock"})," Contrase\xf1a"]}),Object(Re.jsx)(ke.a.Control,{type:"password",placeholder:"Escriba su contrase\xf1a",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(Re.jsx)(Le.a,{type:"submit",variant:"primary",className:"btn btn-dark btn-block",style:{color:"#F55A00"},children:"Inicie sesi\xf3n"})]}),Object(Re.jsx)(Te.a,{className:"py-3",children:Object(Re.jsxs)(Ae.a,{children:["\xbfNo tienes una cuenta? "," ",Object(Re.jsxs)(pe.Link,{to:x?"/register?redirect=".concat(x):"/register",children:[Object(Re.jsx)("i",{className:"far fa-list-alt"})," Reg\xedstrate aqu\xed"]})]})})]})})},ct=function(e){var t=e.location,a=e.history,n=Object(r.useState)(""),c=Object(_e.a)(n,2),i=c[0],o=c[1],l=Object(r.useState)(""),j=Object(_e.a)(l,2),u=j[0],d=j[1],p=Object(r.useState)(""),b=Object(_e.a)(p,2),h=b[0],O=b[1],f=Object(r.useState)(""),x=Object(_e.a)(f,2),m=x[0],g=x[1],v=Object(r.useState)(""),y=Object(_e.a)(v,2),E=y[0],I=y[1],C=Object(r.useState)(null),S=Object(_e.a)(C,2),_=S[0],k=S[1],L=Object(r.useState)(!1),R=Object(_e.a)(L,2),w=R[0],N=R[1],T=Object(s.b)(),A=Object(s.c)((function(e){return e.userRegister})),F=A.loading,U=A.error,P=A.userInfo,D=t.search?t.search.split("=")[1]:"/";Object(r.useEffect)((function(){P&&a.push(D)}),[a,P,D]);var B=function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r,n,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),N(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,n);case 8:c=e.sent,s=c.data,d(s),N(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),N(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Re.jsxs)(rt,{children:[Object(Re.jsx)("h1",{children:"Reg\xedstrese aqu\xed"}),_&&Object(Re.jsx)(qe,{variant:"danger",children:_}),U&&Object(Re.jsx)(qe,{variant:"danger",children:U}),F&&Object(Re.jsx)(Me,{}),Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),m!==E?k("Contrase\xf1as no coinciden"):T(function(e,t,a,r){return function(){var n=Object(Ee.a)(ye.a.mark((function n(c){var s,i,o;return ye.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:Q}),s={headers:{"Content-Type":"application/json"}},n.next=5,Ce.a.post("/api/users",{name:e,email:t,password:a,avatar:r},s);case 5:i=n.sent,o=i.data,c({type:J,payload:o}),c({type:G,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),c({type:q,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(i,h,m,u))},className:"header-login__gradient--down",children:[Object(Re.jsxs)(ke.a.Group,{controlId:"name",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"far fa-user"})," Nombre"]}),Object(Re.jsx)(ke.a.Control,{type:"name",placeholder:"Escriba su nombre",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"email",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"far fa-envelope"})," Email"]}),Object(Re.jsx)(ke.a.Control,{type:"email",placeholder:"Escriba su email",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"password",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"fas fa-lock"})," Contrase\xf1a"]}),Object(Re.jsx)(ke.a.Control,{type:"password",placeholder:"Escriba su contrase\xf1a",value:m,onChange:function(e){return g(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"confirmPassword",children:[Object(Re.jsx)(ke.a.Label,{children:"Confirme su contrase\xf1a"}),Object(Re.jsx)(ke.a.Control,{type:"password",placeholder:"Confirme su contrase\xf1a",value:E,onChange:function(e){return I(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"avatar",children:[Object(Re.jsxs)(ke.a.Label,{children:[Object(Re.jsx)("i",{className:"far fa-user-circle"})," Foto de perfil"]}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Foto de perfil",value:u,onChange:function(e){return d(e.target.value)}}),Object(Re.jsx)(ke.a.File,{id:"avatar-file",label:"Escoge la foto",custom:!0,onChange:B}),w&&Object(Re.jsx)(Me,{})]}),Object(Re.jsx)(Le.a,{type:"submit",variant:"primary",className:"btn btn-dark btn-block",style:{color:"#F55A00"},children:"Rigistar"})]}),Object(Re.jsx)(Te.a,{className:"py-3",children:Object(Re.jsxs)(Ae.a,{children:["\xbfYa est\xe1s registrado?"," ",Object(Re.jsxs)(pe.Link,{to:D?"/login?redirect=".concat(D):"/login",children:[Object(Re.jsx)("i",{className:"far fa-user"})," Inicia sesi\xf3n aqu\xed"]})]})})]})},st=function(e){e.location;var t=e.history,a=Object(r.useState)(""),n=Object(_e.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(""),l=Object(_e.a)(o,2),j=l[0],u=l[1],d=Object(r.useState)(""),p=Object(_e.a)(d,2),b=p[0],h=p[1],O=Object(r.useState)(""),f=Object(_e.a)(O,2),x=f[0],m=f[1],g=Object(r.useState)(""),v=Object(_e.a)(g,2),y=v[0],E=v[1],I=Object(r.useState)(null),C=Object(_e.a)(I,2),S=C[0],_=C[1],k=Object(r.useState)(!1),L=Object(_e.a)(k,2),R=L[0],w=L[1],N=Object(s.b)(),T=Object(s.c)((function(e){return e.userDetails})),A=T.loading,F=T.error,U=T.user,P=Object(s.c)((function(e){return e.userLogin})).userInfo,D=Object(s.c)((function(e){return e.userUpdateProfile})).success;Object(r.useEffect)((function(){P?U&&U.name&&!D?(i(U.name),h(U.email),u(U.avatar)):(N({type:X}),N(Se("profile"))):t.push("/login")}),[N,t,P,U,D]);var B=function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r,n,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),w(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,n);case 8:c=e.sent,s=c.data,u(s),w(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),w(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Re.jsx)(Te.a,{children:Object(Re.jsxs)(Ae.a,{className:"header-login__gradient--up",children:[Object(Re.jsx)("h2",{children:"Perfil"}),S&&Object(Re.jsx)(qe,{variant:"danger",children:S}),F&&Object(Re.jsx)(qe,{variant:"danger",children:F}),D&&Object(Re.jsx)(qe,{variant:"success",children:"Perfil actualizado"}),A&&Object(Re.jsx)(Me,{}),Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),x!==y?_("Contrase\xf1as no coinciden"):N(function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:H}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.put("/api/users/profile",e,s);case 6:i=t.sent,o=i.data,a({type:Y,payload:o}),a({type:G,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a({type:K,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:U._id,name:c,email:b,password:x,avatar:j}))},children:[Object(Re.jsxs)(ke.a.Group,{controlId:"name",children:[Object(Re.jsx)(ke.a.Label,{children:"Nombre"}),Object(Re.jsx)(ke.a.Control,{type:"name",placeholder:"Escriba su nombre",value:c,onChange:function(e){return i(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"email",children:[Object(Re.jsx)(ke.a.Label,{children:"Email Address"}),Object(Re.jsx)(ke.a.Control,{type:"email",placeholder:"Escriba su email",value:b,onChange:function(e){return h(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"password",children:[Object(Re.jsx)(ke.a.Label,{children:"Contrase\xf1a"}),Object(Re.jsx)(ke.a.Control,{type:"password",placeholder:"Escriba su contrase\xf1a",value:x,onChange:function(e){return m(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"confirmPassword",children:[Object(Re.jsx)(ke.a.Label,{children:"Confirme su contrase\xf1a"}),Object(Re.jsx)(ke.a.Control,{type:"password",placeholder:"Confirme su contrase\xf1a",value:y,onChange:function(e){return E(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"avatar",children:[Object(Re.jsx)(ke.a.Label,{children:"Foto de perfil"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Foto de perfil",value:j,onChange:function(e){return u(e.target.value)}}),Object(Re.jsx)(ke.a.File,{id:"avatar-file",label:"Escoge la foto",custom:!0,onChange:B}),R&&Object(Re.jsx)(Me,{})]}),Object(Re.jsx)(Le.a,{type:"submit",variant:"primary",className:"btn btn-dark my-3 btn-block",style:{color:"#F55A00"},children:"Actualizar perfil"})]})]})})},it=a(124),ot=function(e){var t=e.history,a=Object(s.b)(),n=Object(s.c)((function(e){return e.userList})),c=n.loading,i=n.error,o=n.users,l=Object(s.c)((function(e){return e.userLogin})).userInfo,j=Object(s.c)((function(e){return e.userDelete})).success;Object(r.useEffect)((function(){l&&l.isAdmin?a(function(){var e=Object(Ee.a)(ye.a.mark((function e(t,a){var r,n,c,s,i;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Z}),r=a(),n=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,Ce.a.get("/api/users",c);case 6:s=e.sent,i=s.data,t({type:$,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:ee,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,j,l]);var u=function(e){window.confirm("Estas seguro?")&&a(function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ae}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.delete("/api/users/".concat(e),s);case 6:a({type:re}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:ne,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)("h1",{children:"Usuarios"}),c?Object(Re.jsx)(Me,{}):i?Object(Re.jsx)(qe,{variant:"danger",children:i}):Object(Re.jsxs)(it.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm table-secondary",children:[Object(Re.jsx)("thead",{children:Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("th",{children:"ID"}),Object(Re.jsx)("th",{children:"Nombre"}),Object(Re.jsx)("th",{children:"Email"}),Object(Re.jsx)("th",{children:"Admin"}),Object(Re.jsx)("th",{})]})}),Object(Re.jsx)("tbody",{children:o.map((function(e){return Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("td",{children:e._id}),Object(Re.jsx)("td",{children:e.name}),Object(Re.jsx)("td",{children:Object(Re.jsx)("a",{className:"linkEmail",href:"mailto: ".concat(e.email),children:e.email})}),Object(Re.jsx)("td",{children:e.isAdmin?Object(Re.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(Re.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(Re.jsxs)("td",{children:[Object(Re.jsx)(he.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(Re.jsx)(Le.a,{variant:"light",className:"btn-sm",children:Object(Re.jsx)("i",{className:"fas fa-edit"})})}),Object(Re.jsx)(Le.a,{variant:"danger",className:"btn-sm",onClick:function(){return u(e._id)},children:Object(Re.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]})]})},lt=function(e){var t=e.match,a=e.history,n=t.params.id,c=Object(r.useState)(""),i=Object(_e.a)(c,2),o=i[0],l=i[1],j=Object(r.useState)(""),u=Object(_e.a)(j,2),d=u[0],p=u[1],b=Object(r.useState)(""),h=Object(_e.a)(b,2),O=h[0],f=h[1],x=Object(r.useState)(!1),m=Object(_e.a)(x,2),g=m[0],v=m[1],y=Object(r.useState)(!1),E=Object(_e.a)(y,2),I=E[0],C=E[1],S=Object(s.b)(),_=Object(s.c)((function(e){return e.userDetails})),k=_.loading,L=_.error,R=_.user,w=Object(s.c)((function(e){return e.userUpdate})),N=w.loading,T=w.error,A=w.success;Object(r.useEffect)((function(){A?(S({type:oe}),a.push("/admin/userlist")):R.name&&R._id===n?(l(R.name),f(R.email),v(R.isAdmin),p(R.avatar)):S(Se(n))}),[S,a,n,R,A]);var F=function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r,n,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),C(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,n);case 8:c=e.sent,s=c.data,p(s),C(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),C(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(pe.Link,{to:"/admin/userlist",className:"btn btn-dark my-3",style:{color:"#F55A00"},children:"Regresa"}),Object(Re.jsxs)(rt,{children:[Object(Re.jsx)("h1",{children:"Editar usuario"}),N&&Object(Re.jsx)(Me,{}),T&&Object(Re.jsx)(qe,{variant:"danger",children:T}),k?Object(Re.jsx)(Me,{}):L?Object(Re.jsx)(qe,{variant:"danger",children:L}):Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),S(function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s,i,o;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:ce}),n=r(),c=n.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.put("/api/users/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,a({type:se}),a({type:M,payload:o}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:ie,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:o,email:O,isAdmin:g,avatar:d}))},children:[Object(Re.jsxs)(ke.a.Group,{controlId:"name",children:[Object(Re.jsx)(ke.a.Label,{children:"Nombre"}),Object(Re.jsx)(ke.a.Control,{type:"name",placeholder:"Escriba su nombre",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"email",children:[Object(Re.jsx)(ke.a.Label,{children:"Email Address"}),Object(Re.jsx)(ke.a.Control,{type:"email",placeholder:"Escriba su email",value:O,onChange:function(e){return f(e.target.value)}})]}),Object(Re.jsx)(ke.a.Group,{controlId:"isadmin",children:Object(Re.jsx)(ke.a.Check,{type:"checkbox",label:"Es administrador",checked:g,onChange:function(e){return v(e.target.checked)}})}),Object(Re.jsxs)(ke.a.Group,{controlId:"avatar",children:[Object(Re.jsx)(ke.a.Label,{children:"Foto de perfil"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Foto de perfil",value:d,onChange:function(e){return p(e.target.value)}}),Object(Re.jsx)(ke.a.File,{id:"avatar-file",label:"Escoge la foto",custom:!0,onChange:F}),I&&Object(Re.jsx)(Me,{})]}),Object(Re.jsx)(Le.a,{type:"submit",variant:"primary",className:"btn btn-dark my-3 btn-block",style:{color:"#F55A00"},children:"Actualizar"})]})]})]})},jt=function(e){var t=e.history,a=e.match.params.pageNumber||1,n=Object(s.b)(),c=Object(s.c)((function(e){return e.recipeList})),i=c.loading,o=c.error,l=c.recipes,j=c.page,u=c.pages,d=Object(s.c)((function(e){return e.recipeDelete})),p=d.loading,b=d.error,h=d.success,O=Object(s.c)((function(e){return e.recipeCreate})),I=O.loading,C=O.error,S=O.success,_=O.recipe,k=Object(s.c)((function(e){return e.userLogin})).userInfo;Object(r.useEffect)((function(){n({type:E}),k.isAdmin||t.push("/login"),S?t.push("/admin/recipe/".concat(_._id,"/edit")):n(Ye("",a))}),[n,t,k,h,S,_,a]);var L=function(e){window.confirm("Estas seguro?")&&n(function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s,i;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:f}),n=r(),c=n.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.delete("/api/recipes/".concat(e),s);case 6:a({type:x}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),"Not autorizado token fallido."===(i=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a({type:m,payload:i});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(Te.a,{className:"align-items-center",children:[Object(Re.jsx)(Ae.a,{children:Object(Re.jsx)("h1",{children:"Recetas"})}),Object(Re.jsx)(Ae.a,{className:"text-right",children:Object(Re.jsxs)(Le.a,{className:"btn btn-dark my-3",style:{color:"#F55A00"},onClick:function(){n(function(){var e=Object(Ee.a)(ye.a.mark((function e(t,a){var r,n,c,s,i,o;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),r=a(),n=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,Ce.a.post("/api/recipes/",{},c);case 6:s=e.sent,i=s.data,t({type:v,payload:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),"Not autorizado token fallido."===(o=e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message)&&t({type:y,payload:o});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())},children:[Object(Re.jsx)("i",{className:"fas fa-plus "})," Crear receta"]})})]}),I&&Object(Re.jsx)(Me,{}),C&&Object(Re.jsx)(qe,{variant:"danger",children:C}),p&&Object(Re.jsx)(Me,{}),b&&Object(Re.jsx)(qe,{variant:"danger",children:b}),i?Object(Re.jsx)(Me,{}):o?Object(Re.jsx)(qe,{variant:"danger",children:o}):Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsxs)(it.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm table-secondary",children:[Object(Re.jsx)("thead",{children:Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("th",{children:"ID"}),Object(Re.jsx)("th",{children:"Nombre"}),Object(Re.jsx)("th",{children:"Editar/borrar"})]})}),Object(Re.jsx)("tbody",{children:l.map((function(e){return Object(Re.jsxs)("tr",{children:[Object(Re.jsx)("td",{children:e._id}),Object(Re.jsx)("td",{children:e.name}),Object(Re.jsxs)("td",{children:[Object(Re.jsx)(he.LinkContainer,{to:"/admin/recipe/".concat(e._id,"/edit"),children:Object(Re.jsx)(Le.a,{variant:"light",className:"btn-sm",children:Object(Re.jsx)("i",{className:"fas fa-edit"})})}),Object(Re.jsx)(Le.a,{variant:"danger",className:"btn-sm",onClick:function(){return L(e._id)},children:Object(Re.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)}))})]}),Object(Re.jsx)(He,{pages:u,page:j,isAdmin:!0})]})]})},ut=function(e){var t=e.match,a=e.history,n=t.params.id,c=Object(r.useState)(""),i=Object(_e.a)(c,2),o=i[0],l=i[1],j=Object(r.useState)(""),u=Object(_e.a)(j,2),d=u[0],p=u[1],b=Object(r.useState)(""),h=Object(_e.a)(b,2),O=h[0],f=h[1],x=Object(r.useState)(0),m=Object(_e.a)(x,2),g=m[0],v=m[1],y=Object(r.useState)(0),E=Object(_e.a)(y,2),k=E[0],L=E[1],R=Object(r.useState)(""),w=Object(_e.a)(R,2),N=w[0],T=w[1],A=Object(r.useState)(""),F=Object(_e.a)(A,2),U=F[0],P=F[1],D=Object(r.useState)(!1),G=Object(_e.a)(D,2),B=G[0],z=G[1],Q=Object(s.b)(),J=Object(s.c)((function(e){return e.recipeDetails})),q=J.loading,V=J.error,M=J.recipe,W=Object(s.c)((function(e){return e.recipeUpdate})),H=W.loading,Y=W.error,K=W.success;Object(r.useEffect)((function(){K?(Q({type:_}),a.push("/admin/recipelist")):M.name&&M._id===n?(l(M.name),p(M.image),f(M.backgroundImage),v(M.time),L(M.servings),T(M.ingredients),P(M.instructions)):Q(Ke(n))}),[Q,a,n,M,K]);var X=function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r,n,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),z(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,n);case 8:c=e.sent,s=c.data,p(s),z(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),z(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(Ee.a)(ye.a.mark((function e(t){var a,r,n,c,s;return ye.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(r=new FormData).append("image",a),z(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,Ce.a.post("/api/upload",r,n);case 8:c=e.sent,s=c.data,f(s),z(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0),z(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Re.jsxs)(Re.Fragment,{children:[Object(Re.jsx)(pe.Link,{to:"/admin/recipelist",className:"btn btn-dark my-3 ",style:{color:"#F55A00"},children:"Regresa"}),Object(Re.jsxs)(rt,{children:[Object(Re.jsx)("h1",{children:"Editar receta"}),H&&Object(Re.jsx)(Me,{}),Y&&Object(Re.jsx)(qe,{variant:"danger",children:Y}),q?Object(Re.jsx)(Me,{}):V?Object(Re.jsx)(qe,{variant:"danger",children:V}):Object(Re.jsxs)(ke.a,{onSubmit:function(e){e.preventDefault(),Q(function(e){return function(){var t=Object(Ee.a)(ye.a.mark((function t(a,r){var n,c,s,i,o,l;return ye.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:I}),n=r(),c=n.userLogin.userInfo,s={headers:{"content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},t.next=6,Ce.a.put("/api/recipes/".concat(e._id),e,s);case 6:i=t.sent,o=i.data,a({type:C,payload:o}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),"Not autorizado token fallido."===(l=t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message)&&a({type:S,payload:l});case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:n,name:o,time:g,servings:k,image:d,backgroundImage:O,ingredients:N,instructions:U}))},children:[Object(Re.jsxs)(ke.a.Group,{controlId:"name",children:[Object(Re.jsx)(ke.a.Label,{children:"Nombre:"}),Object(Re.jsx)(ke.a.Control,{type:"name",placeholder:"Escriba el nombre",value:o,onChange:function(e){return l(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"time",children:[Object(Re.jsx)(ke.a.Label,{children:"Tiempo:"}),Object(Re.jsx)(ke.a.Control,{type:"number",placeholder:"Escriba el tiempo",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"servings",children:[Object(Re.jsx)(ke.a.Label,{children:"Raciones:"}),Object(Re.jsx)(ke.a.Control,{type:"number",placeholder:"Raciones/porciones",value:k,onChange:function(e){return L(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"image",children:[Object(Re.jsx)(ke.a.Label,{children:"Foto de la receta"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Foto de la receta",value:d,onChange:function(e){return p(e.target.value)}}),Object(Re.jsx)(ke.a.File,{id:"image-file",label:"Escoge la imagen",custom:!0,onChange:X}),B&&Object(Re.jsx)(Me,{})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"backgroundImage",children:[Object(Re.jsx)(ke.a.Label,{children:"Foto de fondo de la receta"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Foto de fondo de la receta",value:O,onChange:function(e){return f(e.target.value)}}),Object(Re.jsx)(ke.a.File,{id:"backgroundImage-file",label:"Escoge la imagen de fondo",custom:!0,onChange:Z}),B&&Object(Re.jsx)(Me,{})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"ingredients",children:[Object(Re.jsx)(ke.a.Label,{children:"Ingredientes:"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Ingredientes",value:N,onChange:function(e){return T(e.target.value)}})]}),Object(Re.jsxs)(ke.a.Group,{controlId:"instructions",children:[Object(Re.jsx)(ke.a.Label,{children:"Preparaci\xf3n:"}),Object(Re.jsx)(ke.a.Control,{type:"text",placeholder:"Preparaci\xf3n de la receta",value:U,onChange:function(e){return P(e.target.value)}})]}),Object(Re.jsx)(Le.a,{type:"submit",variant:"primary",className:"btn btn-dark my-3 btn-block",style:{color:"#F55A00"},children:"Actualizar receta"})]})]})]})},dt=function(){return Object(Re.jsx)("div",{children:Object(Re.jsx)("h1",{children:"Under development"})})};var pt=function(){return Object(Re.jsxs)(pe.BrowserRouter,{children:[Object(Re.jsx)(Ne,{}),Object(Re.jsx)("main",{className:"py-3",children:Object(Re.jsxs)(fe.a,{children:[Object(Re.jsx)(be.d,{path:"/login",component:nt}),Object(Re.jsx)(be.d,{path:"/contact",component:dt}),Object(Re.jsx)(be.d,{path:"/register",component:ct}),Object(Re.jsx)(be.d,{path:"/profile",component:st}),Object(Re.jsx)(be.d,{path:"/recipe/:id",component:tt}),Object(Re.jsx)(be.d,{path:"/fav/:id?",component:at}),Object(Re.jsx)(be.d,{path:"/admin/userlist",component:ot}),Object(Re.jsx)(be.d,{path:"/admin/user/:id/edit",component:lt}),Object(Re.jsx)(be.d,{path:"/admin/recipe/:id/edit",component:ut}),Object(Re.jsx)(be.d,{path:"/admin/recipelist",component:jt,exact:!0}),Object(Re.jsx)(be.d,{path:"/admin/recipelist/:pageNumber",component:jt,exact:!0}),Object(Re.jsx)(be.d,{path:"/",component:$e,exact:!0}),Object(Re.jsx)(be.d,{path:"/search/:keyword/page/:pageNumber",component:$e,exact:!0}),Object(Re.jsx)(be.d,{path:"/page/:pageNumber",component:$e,exact:!0}),Object(Re.jsx)(be.d,{path:"/search/:keyword",component:$e,exact:!0})]})}),Object(Re.jsx)(Fe,{})]})},bt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,134)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};c.a.render(Object(Re.jsx)(s.a,{store:de,children:Object(Re.jsx)(pt,{})}),document.getElementById("root")),bt()},87:function(e,t,a){},88:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.3d97c70d.chunk.js.map